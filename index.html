<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ball Race Game</title>
    <style>
        .ball {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background-color: red;
            position: relative;
            transition: top 2s;
        }
        #raceArea {
            position: relative;
            height: 300px;
            border: 1px solid black;
        }
    </style>
</head>
<body>
    <div id="controlPanel">
        <button onclick="addBall()">Add Ball</button>
        <button onclick="removeBall()">Remove Ball</button>
        <button onclick="startRace()">Start Race</button>
    </div>
    <div id="raceArea"></div>
    <div id="winnerDisplay"></div>

    <script>
        const raceArea = document.getElementById("raceArea");
        const winnerDisplay = document.getElementById("winnerDisplay");
        let balls = [];

        function addBall() {
            const ball = document.createElement("div");
            ball.className = "ball";
            raceArea.appendChild(ball);
            balls.push(ball);
            winnerDisplay.textContent = ''; // Reset winner display
        }

        function removeBall() {
            if(balls.length > 0) {
                const ball = balls.pop();
                raceArea.removeChild(ball);
            }
        }

        function startRace() {
            if(balls.length >= 2){
                balls.forEach((ball, index) => {
                    const position = Math.random() * 280; // Random finish position within 300px limit
                    ball.style.top = position + 'px';
                    setTimeout(() => {
                        if (!winnerDisplay.textContent) {
                            winnerDisplay.textContent = `Ball ${index + 1} wins!`;
                        }
                    }, 2000);
                });
            } else {
                alert("Please add at least 2 balls to start the race.");
            }
        }
    </script>
</body>
</html>
